# Advanced Algorithmic Trading System Configuration

# General System Configuration
system:
  name: "Advanced Trading System"
  version: "1.0.0"
  environment: "development"  # development, staging, production
  debug: true
  log_level: "INFO"
  
  # Timeout Configuration
  timeouts:
    component_startup: 60
    graceful_shutdown: 30
    health_check: 10
    operation_timeout: 30
  
  # Retry Configuration
  retry:
    max_attempts: 3
    backoff_factor: 2
    max_delay: 60

# Structured Logging Configuration
logging:
  enabled: true
  level: "INFO"
  format: "json"
  
  # File Configuration
  files:
    main_log: "logs/system.log"
    error_log: "logs/errors.log"
    audit_log: "logs/audit.log"
    max_size: "100MB"
    backup_count: 5
  
  # Elasticsearch Configuration (optional)
  elasticsearch:
    enabled: false
    hosts: ["localhost:9200"]
    index_prefix: "trading_system"
  
  # Event Correlation Configuration
  correlation:
    enabled: true
    window_size: 300  # seconds
    max_correlations: 1000

# Advanced Metrics Configuration
metrics:
  enabled: true
  collection_interval: 10  # seconds
  retention_days: 30
  scorecards_exporter:
    enabled: true
    port: 9105
    scan_interval: 10
    scorecard_dir: "monitoring/scorecards"
  
  # Prometheus Configuration
  prometheus:
    enabled: false
    port: 9090
    endpoint: "/metrics"
  
  # Alert Configuration
  alerts:
    enabled: true
    email_notifications: false
    slack_notifications: false
    
  # Dashboard Configuration
  dashboards:
    enabled: true
    auto_refresh: 30  # seconds
    port: 8050

# Health Monitoring Configuration
health_monitoring:
  enabled: true
  check_interval: 30  # seconds
  
  # Alert Thresholds
  thresholds:
    cpu_usage: 80  # percentage
    memory_usage: 85  # percentage
    disk_usage: 90  # percentage
    response_time: 5000  # milliseconds
  
  # Auto-Recovery
  auto_recovery:
    enabled: true
    max_restart_attempts: 3
    restart_delay: 60  # seconds

# Performance Analysis Configuration
performance:
  enabled: true
  profiling:
    enabled: true
    sample_rate: 0.1  # 10% of operations
    memory_profiling: true
    line_profiling: false
  
  # Bottleneck Detection
  bottleneck_detection:
    enabled: true
    cpu_threshold: 80
    memory_threshold: 85
    io_threshold: 90

# Dependency Management Configuration
dependencies:
  enabled: true
  auto_install: false
  check_interval: 3600  # seconds
  
  # Preferred Installation Methods
  installation_methods: ["pip", "conda"]
  
  # Conflict Configuration
  conflict_resolution:
    auto_resolve: false
    prefer_latest: true

# Container and Orchestration Configuration
containers:
  enabled: false
  platform: "docker"  # docker, kubernetes
  
  # Docker Configuration
  docker:
    socket_path: "/var/run/docker.sock"
    registry: "localhost:5000"
  
  # Kubernetes Configuration
  kubernetes:
    config_file: "~/.kube/config"
    namespace: "trading-system"
  
  # Auto-Scaling
  auto_scaling:
    enabled: true
    min_replicas: 1
    max_replicas: 10
    cpu_threshold: 70
    memory_threshold: 80

# Automatic Documentation Configuration
documentation:
  enabled: true
  auto_generate: true
  output_directory: "docs"
  
  # Output Formats
  formats: ["html", "markdown", "pdf"]
  
  # Diagram Configuration
  diagrams:
    enabled: true
    auto_generate: true
    formats: ["png", "svg"]

# Dynamic Configuration
dynamic_config:
  enabled: true
  hot_reload: true
  backup_enabled: true
  backup_interval: 3600  # seconds
  
  # Configuration Sources
  sources:
    - type: "file"
      path: "config/"
    - type: "environment"
      prefix: "TRADING_"
  
  # Versioning
  versioning:
    enabled: true
    max_versions: 10

# Multi-Exchange Integration Configuration
exchanges:
  enabled: true
  
  # Exchange Configuration
  binance:
    enabled: false
    api_key: ""
    api_secret: ""
    testnet: true
  
  coinbase:
    enabled: false
    api_key: ""
    api_secret: ""
    passphrase: ""
    sandbox: true
  
  kraken:
    enabled: false
    api_key: ""
    api_secret: ""
  
  # Failover Configuration
  failover:
    enabled: true
    max_retries: 3
    retry_delay: 5  # seconds
  
  # Liquidity Aggregation
  liquidity_aggregation:
    enabled: true
    min_exchanges: 2

# Advanced Backtesting Configuration
backtesting:
  enabled: true
  
  # Data Configuration
  data:
    source: "file"  # file, database, api
    directory: "data/"
    formats: ["csv", "parquet"]
  
  # Simulation Configuration
  simulation:
    initial_capital: 100000
    commission: 0.001  # 0.1%
    slippage: 0.0005   # 0.05%
  
  # Metrics Configuration
  metrics:
    calculate_all: true
    benchmark: "SPY"

# Risk Management Configuration
risk_management:
  enabled: true
  
  # Position Limits
  position_limits:
    max_position_size: 0.1  # 10% of portfolio
    max_sector_exposure: 0.3  # 30% of portfolio
    max_correlation: 0.7
  
  # VaR Management
  var:
    confidence_level: 0.95
    time_horizon: 1  # days
    method: "historical"  # historical, parametric, monte_carlo
  
  # Stop loss and take profit
  stops:
    default_stop_loss: 0.02  # 2%
    default_take_profit: 0.06  # 6%

# Data Quality Configuration
data_quality:
  enabled: true
  
  # Validations
  validations:
    price_range_check: true
    volume_check: true
    timestamp_check: true
    duplicate_check: true
  
  # Automatic Cleaning
  auto_cleaning:
    enabled: true
    outlier_detection: true
    missing_data_handling: "interpolate"  # drop, interpolate, forward_fill

# Bayesian Optimization Configuration
optimization:
  enabled: true
  
  # Optimizer Configuration
  optimizer:
    n_calls: 100
    n_initial_points: 10
    acquisition_function: "EI"  # EI, PI, LCB
  
  # Parameter Space Configuration
  parameter_space:
    continuous_params: 10
    categorical_params: 5
    integer_params: 3

# Market Regime Detection Configuration
regime_detection:
  enabled: true
  
  # Model Configuration
  models:
    hmm:
      n_states: 3
      covariance_type: "full"
    
    clustering:
      n_clusters: 4
      algorithm: "kmeans"
  
  # Feature Configuration
  features:
    returns: true
    volatility: true
    volume: true
    technical_indicators: true

# Database Configuration
database:
  enabled: false
  
  # Main Configuration
  main:
    type: "postgresql"  # postgresql, mysql, sqlite
    host: "localhost"
    port: 5432
    database: "trading_system"
    username: "trader"
    password: ""
  
  # Redis Configuration
  redis:
    enabled: false
    host: "localhost"
    port: 6379
    database: 0

# API Configuration
api:
  enabled: false
  host: "0.0.0.0"
  port: 8000
  
  # Authentication Configuration
  authentication:
    enabled: true
    method: "jwt"  # jwt, api_key, oauth
    secret_key: "your-secret-key"
  
  # CORS Configuration
  cors:
    enabled: true
    origins: ["*"]

# Notification Configuration
notifications:
  enabled: false
  
  # Email
  email:
    enabled: false
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    username: ""
    password: ""
  
  # Slack
  slack:
    enabled: false
    webhook_url: ""
    channel: "#trading-alerts"
  
  # Telegram
  telegram:
    enabled: false
    bot_token: ""
    chat_id: ""

# Security Configuration
security:
  enabled: true
  
  # Encryption
  encryption:
    enabled: true
    algorithm: "AES-256"
    key_rotation: true
    rotation_interval: 86400  # seconds
  
  # Auditing
  audit:
    enabled: true
    log_all_operations: true
    sensitive_data_masking: true
